<<<<<<< HEAD
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="list/js/jquery-3.2.1.js"></script>
    <script src="list/js/template-web.js"></script>
    <script src="list/js/require.js"></script>
    <style>
        .hello{
            width: 20px;
            height: 20px;
        }
        body{
            background:#2F2F2F;
        }
        .list_bg{
            width: 400px;
            border-radius: 5px;
            border:2px solid #253A7C;
            background-color: rgba(1,26,56,0.8);
        }
        .list_content{
            margin:10px;
        }
        table{
            margin:0 0 5px 0;
        }
        .line{
            border-bottom:1px solid #023675;
            margin:0 0 5px 0;
        }
        .info_row table{
            width:100%;
        }
        /*信息栏-字体样式*/
        .info_row .td5 span{
            font-size:12px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*信息栏-字体颜色*/
        .info_row .room{ /*房间*/
            color:#E7D069;
        }
        .info_row .obs{ /*OBS信息*/
            color:#69E780;
        }
        .info_row .pc{ /*PC信息*/
            color:#BA6FE4;
        }
        .info_row .calabash{ /*小葫芦*/
            color:#BF85ED;
        }
        /*弹幕-字体样式*/
        .danmu_row .td5 span{
            font-size:12px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*弹幕-字体颜色*/
        .danmu_row .role{ /*角色*/
            color:#E7D069;
        }
        .danmu_row .username{ /*用户名*/
            color:#69E780;
        }
        .danmu_row .message{ /*弹幕内容*/
            color:#BA6FE4;
        }
        /*礼物-字体样式*/
        .gift_row .td5 span{
            font-size:14px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*礼物-字体颜色*/
        .gift_row .role{ /*角色*/
            color:#BA6FE4;
        }
        .gift_row .username{ /*用户名*/
            color:#69E780;
        }
        .gift_row .give{ /*赠送*/
            color:#51D1DC;
        }
        .gift_row .sum{ /*数量*/
            color:#C593DC;
        }
        .gift_row .giftname{ /*礼物名称*/
            color:#D3DC09;
        }
        .gift_row .combo{ /*连击*/
            color:#D6D6D6;
        }
        /*进入房间-字体样式*/
        .join_row .td5 span{
            font-size:12px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*进入房间-字体颜色*/
        .join_row .role{ /*角色*/
            color:#BA6FE4;
        }
        .join_row .username{ /*用户名*/
            color:#69E780;
        }
        .join_row .action{ /*动作*/
            color:#51D1DC;
        }
        .join_row .horse{ /*坐骑*/
            color:#DC8F09;
        }
        .join_row .content{ /*内容*/
            color:#D6D6D6;
        }
        /*关注-字体样式*/
        .follow_row .td5 span{
            font-size:14px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*关注-字体颜色*/
        .follow_row .role{ /*角色*/
            color:#BA6FE4;
        }
        .follow_row .username{ /*用户名*/
            color:#69E780;
        }
        .follow_row .content{ /*内容*/
            color:#D6D6D6;
        }
        /*弹幕助手通知-字体样式*/
        .notice_row .td5 span{
            font-size:14px;
            font-weight: normal;
            font-family: 'Microsoft YaHei';
        }
        /*弹幕助手通知-字体颜色*/
        .notice_row .role{ /*角色*/
            color:#BA6FE4;
        }
        .notice_row .content{ /*内容*/
            color:#D6D6D6;
        }
        /* 皮肤 */
        .row_skin .td1{
            background: url("images/a_01.png") no-repeat;
            width: 18px;
            height: 15px;
        }
        .row_skin .td2{
            background: url("images/a_02.png") repeat-x;
            width: auto;
            height: 15px;
        }
        .row_skin .td3{
            background: url("images/a_03.png") no-repeat;
            width: 14px;
            height: 15px;
        }
        .row_skin .td4{
            background: url("images/a_04.png") repeat-y;
            width: 18px;
            height: auto;
        }
        .row_skin .td5{
            background: #6F1418;
            width: auto;
            height: auto;
        }
        .row_skin .td6{
            background: url("images/a_06.png") repeat-y;
            width: 14px;
            height: auto;
        }
        .row_skin .td7{
            background: url("images/a_07.png") no-repeat;
            width: 18px;
            height: 16px;
        }
        .row_skin .td8{
            background: url("images/a_08.png") repeat-x;
            width: auto;
            height: 16px;
        }
        .row_skin .td9{
            background: url("images/a_09.png") no-repeat;
            width: 14px;
            height: 16px;
        }
    </style>
</head>
<body>
<!--信息栏模板-->
<script type="text/html" id="infoTemplate">

</script>
<!--弹幕栏模板-->
<script type="text/html" id="danmu_rowTemplate">
    <tr>
        <td class="td5">
            {{each list value i}}
            <span class="role">{{list[i].super_dm_font}}</span>
            <span class="username">{{list[i].super_dm_font}}</span>
            <span class="message">{{list[i].super_dm_font}}</span>
            {{/each}}
        </td>
    </tr>
</script>
<!--礼物栏模板-->
<script type="text/html" id="gift_rowTemplate"></script>
<!--加入栏模板-->
<script type="text/html" id="join_rowTemplate"></script>
<!--关注栏模板-->
<script type="text/html" id="follow_rowTemplate"></script>
<div class="list_bg">
    <div class="list_content">
        <!-- 信息栏-->
        <div class="info_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="td1"></td>
                    <td class="td2"></td>
                    <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <td class="td5">
                        <div>
                            <table border="0" cellspacing="0" cellpadding="0" class="firstinfo">
                                <!--<tr>-->
                                    <!--<td width="33.3%" align="left"><span class="room">观众数：12</span></td>-->
                                    <!--<td width="33.3%" align="center"><span class="room">礼物数：131</span></td>-->
                                    <!--<td width="33.3%" align="right"><span class="room">关注数：4646</span></td>-->
                                <!--</tr>-->
                            </table>
                            <table border="0" cellspacing="0" cellpadding="0">
                                <!--<tr>-->
                                    <!--<td width="50%" align="left"><span class="pc">CPU占用百分比：50%</span></td>-->
                                    <!--<td width="50%" align="right"><span class="pc">内存占用百分比：10%</span></td>-->
                                <!--</tr>-->
                            </table>
                        </div>
                    </td>
                    <td class="td6"></td>
                </tr>
                <tr>
                    <td class="td7"></td>
                    <td class="td8"></td>
                    <td class="td9"></td>
                </tr>
            </table>
        </div>
        <!-- 分割线，皮肤模式下无分割线-->
        <div class="line"></div>
        <!-- 弹幕-->
        <div class="danmu_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                <td class="td1"></td>
                <td class="td2"></td>
                <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <!--<td class="td5">-->
                        <!--<span class="role">[观众]</span>-->
                        <!--<span class="username">进击的白球球：</span>-->
                        <!--<span class="message">主播你好美呀！</span>-->
                    <!--</td>-->
                    <td class="td6"></td>
                </tr>
                <tr>
                <td class="td7"></td>
                <td class="td8"></td>
                <td class="td9"></td>
                </tr>
            </table>
        </div>
        <!-- 分割线，皮肤模式下无分割线-->
        <div class="line"></div>
        <!-- 礼物-->
        <div class="gift_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="td1"></td>
                    <td class="td2"></td>
                    <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <!--<td class="td5">-->
                        <!--<span class="role">[观众]</span>-->
                        <!--<span class="username">小花</span>-->
                        <!--<span class="give">赠送</span>-->
                        <!--<span class="sum">100个</span>-->
                        <!--<span class="giftname">鱼丸</span>-->
                        <!--<span class="combo">x100</span>-->
                    <!--</td>-->
                    <td class="td6"></td>
                </tr>
                <tr>
                    <td class="td7"></td>
                    <td class="td8"></td>
                    <td class="td9"></td>
                </tr>
            </table>
        </div>
        <!-- 分割线，皮肤模式下无分割线-->
        <div class="line"></div>
        <!-- 进入房间-->
        <div class="join_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="td1"></td>
                    <td class="td2"></td>
                    <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <!--<td class="td5">-->
                        <!--<span class="role">[观众]</span>-->
                        <!--<span class="username">小敏</span>-->
                        <!--<span class="action">骑着</span>-->
                        <!--<span class="horse">白马</span>-->
                        <!--<span class="content">进入直播间</span>-->
                    <!--</td>-->
                    <td class="td6"></td>
                </tr>
                <tr>
                    <td class="td7"></td>
                    <td class="td8"></td>
                    <td class="td9"></td>
                </tr>
            </table>
        </div>
        <!-- 分割线，皮肤模式下无分割线-->
        <div class="line"></div>
        <!-- 关注-->
        <div class="follow_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="td1"></td>
                    <td class="td2"></td>
                    <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <!--<td class="td5">-->
                        <!--<span class="role">[观众]</span>-->
                        <!--<span class="username">小敏</span>-->
                        <!--<span class="content">关注了你的直播间</span>-->
                    <!--</td>-->
                    <td class="td6"></td>
                </tr>
                <tr>
                    <td class="td7"></td>
                    <td class="td8"></td>
                    <td class="td9"></td>
                </tr>
            </table>
        </div>
        <!-- 分割线，皮肤模式下无分割线-->
        <div class="line"></div>
        <!-- 弹幕助手信息-->
        <div class="notice_row">
            <!-- 加皮肤 table 添加 class="row_skin"-->
            <table border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td class="td1"></td>
                    <td class="td2"></td>
                    <td class="td3"></td>
                </tr>
                <tr>
                    <td class="td4"></td>
                    <!--<td class="td5">-->
                        <!--<span class="role">[小葫芦]</span>-->
                        <!--<span class="content">正在连接....</span>-->
                    <!--</td>-->
                    <td class="td6"></td>
                </tr>
                <tr>
                    <td class="td7"></td>
                    <td class="td8"></td>
                    <td class="td9"></td>
                </tr>
            </table>
        </div>
    </div>
</div>
</body>
<script src="list/js/listwebsocket.js"></script>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="list/css/list.css">
    <script src="list/js/jquery-3.2.1.js"></script>
    <script src="list/js/template.js"></script>
</head>
<body>
<!--列表框-->
<!--弹幕模板-->
<script type="text/html" id="danmuFansTemplate">
    <table class="danmu_fans_row"><tbody>
    <tr>
        <td class="td5 danmu_fans">
           {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<script type="text/html" id="danmuAnchorTemplate">
    <table class=danmu_anchor_row"><tbody>
    <tr>
        <td class="td5 danmu_anchor">
            {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<script type="text/html" id="danmuSuperTemplate">
    <table class="danmu_super_row"><tbody>
    <tr>
        <td class="td5 danmu_super">
            {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<script type="text/html" id="danmuRoomTemplate">
    <table class="danmu_room_row"><tbody>
    <tr>
        <td class="td5 danmu_room">
            {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<!--礼物模板-->
<script type="text/html" id="giftFreeTemplate">
    <table class="gift_free_row"><tbody>
    <tr>
    <td class="td5 gift_free">
        {{#data.merge}}
    </tr>
    </tbody></table>
</script>
<script type="text/html" id="giftPayTemplate">
    <table class="gift_pay_row"><tbody>
    <tr>
        <td class="td5 gift_pay">
            {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<!--加入模板-->
<script type="text/html" id="joinNTemplate">
    <table class="join_n_row"><tbody>
    <tr>
    <td class="td5 join_n">
        {{#data.merge}}
    </td>
    </tr>
    </tbody></table>
</script>
<script type="text/html" id="joinSuperTemplate">
    <table class="join_super_row"><tbody>
    <tr>
        <td class="td5 join_super">
            {{#data.merge}}
        </td>
    </tr>
    </tbody></table>
</script>
<!--关注模板-->
<script type="text/html" id="followTemplate">
    <table class="follow_row"><tbody>
    <tr>
    <td class="td5 follow">
        {{#data.merge}}
    </td>
    </tr>
    </tbody></table>
</script>
<!--弹幕助手-->
<script type="text/html" id="noticeTemplate">
    <table class="notice_row"><tbody>
    <tr>
    <td class="td5 notice">
        {{#data.merge}}
    </td>
    </tr>
    </tbody></table>
</script>
<script>
//    异步加载js的方法
var loadScript = function(url, callback) {
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.src = url;
    if (!callback) {
        return;
    }
    script.onload = script.onreadystatechange = function() {
        if (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete') {
            callback();
        }
    };
    head.appendChild(script);
};
//设置样式的方法
function setCss($el,obj) {//这个方法的参数是第一个是要改变样式的元素，第二个是需要改变的样式
    var msg = {  //默认
        // color:"black",
        // fontSize:"16px"
    };
    for (var k in obj) {
        msg[k] = obj[k];
    }
    for (var j in msg) {
        if (msg[j] !== true || false) {
            $el.css(j, msg[j]);
        }
    }
}
//动态调用函数
function createInit(initName){ eval(initName+"styleinit(data)");}
//样式更新的方法
 function xxx_styleUpdate(data) {
     for(var j = 0;j<data.count;j++){
         if(data.list[j].list_size){
             $(".list_bg"+data.list[j].guid+">.list_content").css("width",data.list[j].list_size.width)
             setCss($(".list_bg"+data.list[j].guid+">.list_data"), data.list[j].list_size);
         }
         if(data.list[j].bg) {
             setCss($(".list_bg"+data.list[j].guid), data.list[j].bg);
         }
         if(data.list[j].position){
             setCss($(".list_bg"+data.list[j].guid),data.list[j].position);
         }
         if (data.list[j].frame) {
             if(data.list[j].frame.is_frame){
                 setCss($(".list_bg"+data.list[j].guid), data.list[j].frame);
             }else{
                 $(".list_bg"+data.list[j].guid).css("border","none")
             }
         }
         if(data.list[j].bar_bg){
             //先判断是否需要添加背景色
             if(data.list[j].bar_bg.is_bar_bg){
                 (function (j) {
                     // 关注
                     $(".list_data").on("DOMNodeInserted",".follow_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .follow_row"),data.list[j].bar_bg);
                     })
                     // 弹幕
                     $(".list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row"),data.list[j].bar_bg);
                     })
                     $(".list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row"),data.list[j].bar_bg);
                     })
                     $(".list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row"),data.list[j].bar_bg);
                     })
                     $(".list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row"),data.list[j].bar_bg);
                     })
                     // 信息
                     $(".list_data").on("DOMNodeInserted",".info_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .info_row"),data.list[j].bar_bg);
                     })
                     // 通知
                     $(".list_data").on("DOMNodeInserted",".notice_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .notice_row"),data.list[j].bar_bg);
                     })
                     // 加入
                     $(".list_data").on("DOMNodeInserted",".join_n_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .join_n_row"),data.list[j].bar_bg);
                     })
                     $(".list_data").on("DOMNodeInserted",".join_super_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .join_super_row"),data.list[j].bar_bg);
                     })
                     // 礼物
                     $(".list_data").on("DOMNodeInserted",".gift_free_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .gift_free_row"),data.list[j].bar_bg);
                     })
                     $(".list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row"),data.list[j].bar_bg);
                     })
                 })(j)
             }
         }
         if(data.list[j].bar_frame){
             if(data.list[j].bar_frame.is_bar_frame){
                 (function (j) {
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".follow_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .follow_row"),data.list[j].bar_frame);
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_row"),data.list[j].bar_frame);
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".info_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .info_row"),data.list[j].bar_frame);
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".notice_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .notice_row"),data.list[j].bar_frame);
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".join_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .join_row"),data.list[j].bar_frame);
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".gift_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .gift_row"),data.list[j].bar_frame);
                     })
                 })(j)
             }else{
                 (function (j) {
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".follow_row",function () {
                         $(".list_bg"+data.list[j].guid+" .follow_row").css("border","none")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_row",function () {
                         $(".list_bg"+data.list[j].guid+" .danmu_row").css("border","none")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".info_row",function () {
                         $(".list_bg"+data.list[j].guid+" .info_row").css("border","none")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".notice_row",function () {
                         $(".list_bg"+data.list[j].guid+" .notice_row").css("border","none")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".join_row",function () {
                         $(".list_bg"+data.list[j].guid+" .join_row").css("border","none")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".gift_row",function () {
                         $(".list_bg"+data.list[j].guid+" .gift_row").css("border","none")
                     })
                 })(j)
             }
             if(!data.list[j].bar_frame.is_bar_round){
                 (function (j) {
                     // 关注
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".follow_row",function () {
                         $(".list_bg"+data.list[j].guid+" .follow_row").css("border-radius","unset")
                     })
                     // 弹幕
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_fans_row",function () {
                         $(".list_bg"+data.list[j].guid+" .danmu_fans_row").css("border-radius","unset")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_anchor_row",function () {
                         $(".list_bg"+data.list[j].guid+" .danmu_anchor_row").css("border-radius","unset")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_super_row",function () {
                         $(".list_bg"+data.list[j].guid+" .danmu_super_row").css("border-radius","unset")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".danmu_room_row",function () {
                         $(".list_bg"+data.list[j].guid+" .danmu_room_row").css("border-radius","unset")
                     })
                     // 信息
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".info_row",function () {
                         $(".list_bg"+data.list[j].guid+" .info_row").css("border-radius","unset")
                     })
                     // 通知
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".notice_row",function () {
                         $(".list_bg"+data.list[j].guid+" .notice_row").css("border-radius","unset")
                     })
                     // 加入
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".join_super_row",function () {
                         $(".list_bg"+data.list[j].guid+" .join_super_row").css("border-radius","unset")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".join_n_row",function () {
                         $(".list_bg"+data.list[j].guid+" .join_n_row").css("border-radius","unset")
                     })
                     // 礼物
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".gift_free_row",function () {
                         $(".list_bg"+data.list[j].guid+" .gift_free_row").css("border-radius","unset")
                     })
                     $(".list_bg"+data.list[j].guid).on("DOMNodeInserted",".gift_pay_row",function () {
                         $(".list_bg"+data.list[j].guid+" .gift_pay_row").css("border-radius","unset")
                     })
                 })(j)
             }
         }
         // 1.信息样式
         // 1.1 room信息
         (function (j) {
             if(data.list[j].info_room){
                 if(data.list[j].info_room.is_room){
                     setCss($(".list_bg"+data.list[j].guid+" .info_room"),data.list[j].info_room);
                     if(!data.list[j].info_room.is_room_numdetail){
                         $(".list_bg"+data.list[j].guid+" .info_room>.gift_score").css("display","none");
                     }
                     if(!data.list[j].info_room.is_numfans){
                         $(".list_bg"+data.list[j].guid+" .info_room>.audi_num").css("display","none");
                     }
                     if(!data.list[j].info_room.is_numfollow){
                         $(".list_bg"+data.list[j].guid+" .info_room>.follow_num").css("display","none");
                     }
                     if(!data.list[j].info_room.is_numgift){
                         $(".list_bg"+data.list[j].guid+" .info_room>.gift_score").css("display","none");
                     }
                     if(!data.list[j].info_room.is_guard){
                         $(".list_bg"+data.list[j].guid+" .info_room>.guard_num").css("display","none");
                     }
                     if(!data.list[j].info_room.is_lord){
                         $(".list_bg"+data.list[j].guid+" .info_room>.lord_num").css("display","none");
                     }
                     if(!data.list[j].info_room.is_fans){
                         $(".list_bg"+data.list[j].guid+" .info_room>.fans_num").css("display","none");
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==1){
                         $(".list_bg"+data.list[j].guid+" .info_room td").css({
                             "width":"100%"
                         })
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==2){
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").first().css({
                                 "width":"50%",
                                 "float":"left"
                             }
                         )
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").last().css({
                             "width":"50%",
                             "float":"right",
                             "text-align":"right"
                         })
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==3){
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").find("td").css({
                             "width":"33.33%"
                         })
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==4){
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").find("td").css({
                             "width":"33.33%"
                         })
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==5){
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").find("td").css({
                             "width":"33.33%"
                         })
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").length==6){
                         $(".list_bg"+data.list[j].guid+" .info_room").children().not(":hidden").find("td").css({
                             "width":"33.33%"
                         })
                     }
                 }else{
                     $(".list_bg"+data.list[j].guid+" .info_room").css("display","none");
                 }
             }
             // 1.2 obs信息
             if(data.list[j].info_obs){
                 if(data.list[j].info_obs.is_obs){
                     setCss($(".list_bg"+data.list[j].guid+" .info_obs"),data.list[j].info_obs);
                     if(!data.list[j].info_obs.is_frameloss){
                         $(".list_bg"+data.list[j].guid+" .info_obs>.frame_loss").css("display","none");
                     }
                     if(!data.list[j].info_obs.is_fps){
                         $(".list_bg"+data.list[j].guid+" .info_obs>.fps").css("display","none");
                     }
                     if(!data.list[j].info_obs.is_bitrate){
                         $(".list_bg"+data.list[j].guid+" .info_obs>.bitrate").css("display","none");
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_obs").children().not(":hidden").length==3){
                         $(".list_bg"+data.list[j].guid+" .info_obs").children().not(":hidden").first().css({
                             "float":"left",
                             "width":"33.33%"
                         })
                         $(".list_bg"+data.list[j].guid+" .info_obs").children().not(":hidden").first().next().css({
                             "float":"left",
                             "width":"33.33%",
                             "text-align":"center"
                         })
                         $(".list_bg"+data.list[j].guid+" .info_obs").children().not(":hidden").last().css({
                             "float":"left",
                             "width":"33.33%",
                             "text-align":"right"
                         })
                     }
                 }
             }
             // 1.3 pc信息
             if(data.list[j].info_pc){
                 if(data.list[j].info_pc.is_pc){
                     setCss($(".list_bg"+data.list[j].guid+" .info_pc"),data.list[j].info_pc);
                     if(!data.list[j].info_pc.is_cpurate){
                         $(".list_bg"+data.list[j].guid+" .info_pc>.cpurate").css("display","none");
                     }
                     if(!data.list[j].info_pc.is_memoryrate){
                         $(".list_bg"+data.list[j].guid+" .info_pc>.memrate").css("display","none");
                     }
                     if($(".list_bg"+data.list[j].guid+" .info_pc").children().not(":hidden").length==2){
                         $(".list_bg"+data.list[j].guid+" .info_pc").children().not(":hidden").first().css({
                             "width":"50%",
                             "float":"left"
                         })
                         $(".list_bg"+data.list[j].guid+" .info_pc").children().not(":hidden").last().css({
                             "width":"50%",
                             "float":"right",
                             "text-align":"right"
                         })
                     }
                 }
             }
             // 1.4 xhl信息
             if(data.list[j].info_xhl){
                 if(data.list[j].info_xhl.is_xhl){
                     setCss($(".list_bg"+data.list[j].guid+" .info_xhl"),data.list[j].info_xhl);
                     if(!data.list[j].info_xhl.is_xhl_startsecond){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.startime").css("display","none");
                     }
                     if(!data.list[j].info_xhl.is_xhl_stampnow){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.time_now").css("display","none");
                     }
                     if(!data.list[j].info_xhl.is_xhl_numdanmu){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.dm_num").css("display","none");
                     }
                     if(!data.list[j].info_xhl.is_xhl_numgift){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.gift_num").css("display","none");
                     }
                     if(!data.list[j].info_xhl.is_xhl_newfollow){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.new_follow").css("display","none");
                     }
                     if(!data.list[j].info_xhl.is_xhl_numspeaker){
                         $(".list_bg"+data.list[j].guid+" .info_xhl>.speaker_num").css("display","none");
                     }
                 }
             }
         })(j)
         // 2.弹幕样式
         // 2.1粉丝弹幕
         if(data.list[j].dm_fans){
             if(data.list[j].dm_fans.show_fans){

                 (function (j) {
                     $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row span"),data.list[j].dm_fans);
                     })
                 })(j)
                 if(data.list[j].dm_fans.role){
                     if(data.list[j].dm_fans.role.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_role_fans"),data.list[j].dm_fans.role);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.fans_name){
                     if(data.list[j].dm_fans.fans_name.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_name_fans"),data.list[j].dm_fans.fans_name);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.content){
                     if(data.list[j].dm_fans.content.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.content_fans"),data.list[j].dm_fans.content);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.level){
                     if(data.list[j].dm_fans.level.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_level_fans"),data.list[j].dm_fans.level);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.fans_icon){
                     if(!data.list[j].dm_fans.fans_icon.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 $(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_icon_fans").css("display","none");
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.rorank){
                     if(data.list[j].dm_fans.rorank.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_rorank_fans"),data.list[j].dm_fans.rorank);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.ralord){
                     if(data.list[j].dm_fans.ralord.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_ralord_fans"),data.list[j].dm_fans.ralord);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.vip){
                     if(data.list[j].dm_fans.vip.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.user_vip_fans"),data.list[j].dm_fans.vip);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_fans.sendt){
                     if(data.list[j].dm_fans.sendt.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_fans_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_fans_row .danmu_fans>.send_time_fans"),data.list[j].dm_fans.sendt);
                             })
                         })(j)
                     }
                 }
             }
         }
         // 2.2主播弹幕
         if(data.list[j].dm_anchor){
             if(data.list[j].dm_anchor.show_anchor){
                 (function (j) {
                     $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row span"),data.list[j].dm_anchor);
                     })
                 })(j)

                 if(data.list[j].dm_anchor.role){
                     if(data.list[j].dm_anchor.role.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row .danmu_anchor>.user_role_anchor"),data.list[j].dm_anchor.role);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_anchor.anchor_name){
                     if(data.list[j].dm_anchor.anchor_name.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row .danmu_anchor>.user_name_anchor"),data.list[j].dm_anchor.anchor_name);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_anchor.content){
                     if(data.list[j].dm_anchor.content.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row .danmu_anchor>.content_anchor"),data.list[j].dm_anchor.content);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_anchor.time){
                     if(data.list[j].dm_anchor.time.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_anchor_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_anchor_row .danmu_anchor>.send_time_anchor"),data.list[j].dm_anchor.time);
                             })
                         })(j)
                     }
                 }
             }
         }
         // 2.3超管弹幕
         if(data.list[j].dm_super){
             if(data.list[j].dm_super.show_super){
                 (function (j) {
                     $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row span"),data.list[j].dm_super);
                     })
                 })(j)
                 if(data.list[j].dm_super.role){
                     if(data.list[j].dm_super.role.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row .danmu_super>.user_role_super"),data.list[j].dm_super.role);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_super.super_name){
                     if(data.list[j].dm_super.super_name.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row .danmu_super>.user_name_super"),data.list[j].dm_super.super_name);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_super.content){
                     if(data.list[j].dm_super.content.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row .danmu_super>.content_super"),data.list[j].dm_super.content);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_super.time){
                     if(data.list[j].dm_super.time.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_super_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_super_row .danmu_super>.send_time_super"),data.list[j].dm_super.time);
                             })
                         })(j)
                     }
                 }
             }
         }
         // 2.4房管弹幕
         if(data.list[j].dm_rm){
             if(data.list[j].dm_rm.show_rm){
                 (function (j) {
                     $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                         setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row span"),data.list[j].dm_rm);
                     })
                 })(j)
                 if(data.list[j].dm_rm.role){
                     if(data.list[j].dm_rm.role.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row .danmu_room>.user_role_rm"),data.list[j].dm_rm.role);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_rm.rm_name){
                     if(data.list[j].dm_rm.rm_name.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row .danmu_room>.user_name_rm"),data.list[j].dm_rm.rm_name);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_rm.content){
                     if(data.list[j].dm_rm.content.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row .danmu_room>.content_rm"),data.list[j].dm_rm.content);
                             })
                         })(j)
                     }
                 }
                 if(data.list[j].dm_rm.time){
                     if(data.list[j].dm_rm.time.show){
                         (function (j) {
                             $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".danmu_room_row",function () {
                                 setCss($(".list_bg"+data.list[j].guid+" .danmu_room_row .danmu_room>.send_time_rm"),data.list[j].dm_rm.time);
                             })
                         })(j)
                     }
                 }
             }
         }
         //3.礼物样式设置
         // 3.1免费礼物样式
         if(data.list[j].gift_free){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .gift_free_row span"),data.list[j].gift_free);
                 })
             })(j)
             if(data.list[j].gift_free.gift_name){
                 if(data.list[j].gift_free.gift_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.gift_name_free"),data.list[j].gift_free.gift_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.gift_number){
                 if(data.list[j].gift_free.gift_number.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.gift_number_free"),data.list[j].gift_free.gift_number);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.gift_combo){
                 if(data.list[j].gift_free.gift_combo.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.gift_combo_free"),data.list[j].gift_free.gift_combo);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.user_name){
                 if(data.list[j].gift_free.user_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_name_free"),data.list[j].gift_free.user_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.level){
                 if(data.list[j].gift_free.level.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_level_free"),data.list[j].gift_free.level);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.rank){
                 if(data.list[j].gift_free.rank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_rank_free"),data.list[j].gift_free.rank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.rorank){
                 if(data.list[j].gift_free.rorank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_rorank_free"),data.list[j].gift_free.rorank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.ralord){
                 if(data.list[j].gift_free.ralord.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_ralord_free"),data.list[j].gift_free.ralord);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.vip){
                 if(data.list[j].gift_free.vip.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.user_vip_free"),data.list[j].gift_free.vip);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_free.time){
                 if(data.list[j].gift_free.time.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_free_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_free_row .gift_free>.send_time_free"),data.list[j].gift_free.time);
                         })
                     })(j)
                 }
             }
         }
         // 3.2付费礼物样式
         if(data.list[j].gift_pay){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row span"),data.list[j].gift_pay);
                 })
             })(j)
             if(data.list[j].gift_pay.gift_name){
                 if(data.list[j].gift_pay.gift_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.gift_name_pay"),data.list[j].gift_pay.gift_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.gift_number){
                 if(data.list[j].gift_pay.gift_number.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.gift_number_pay"),data.list[j].gift_pay.gift_number);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.gift_combo){
                 if(data.list[j].gift_pay.gift_combo.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.gift_combo_pay"),data.list[j].gift_pay.gift_combo);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.user_name){
                 if(data.list[j].gift_pay.user_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_name_pay"),data.list[j].gift_pay.user_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.level){
                 if(data.list[j].gift_pay.level.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_level_pay"),data.list[j].gift_pay.level);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.rank){
                 if(data.list[j].gift_pay.rank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_rank_pay"),data.list[j].gift_pay.rank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.rorank){
                 if(data.list[j].gift_pay.rorank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_rorank_pay"),data.list[j].gift_pay.rorank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.ralord){
                 if(data.list[j].gift_pay.ralord.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_ralord_pay"),data.list[j].gift_pay.ralord);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.vip){
                 if(data.list[j].gift_pay.vip.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.user_vip_pay"),data.list[j].gift_pay.vip);
                         })
                     })(j)
                 }
             }
             if(data.list[j].gift_pay.time){
                 if(data.list[j].gift_pay.time.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".gift_pay_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .gift_pay_row .gift_pay>.send_time_pay"),data.list[j].gift_pay.time);
                         })
                     })(j)
                 }
             }
         }
         //4.进入房间样式设置
         // 4.1观众进入房间
         if(data.list[j].join_n){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .join_n_row span"),data.list[j].join_n);
                 })
             })(j)
             if(data.list[j].join_n.role){
                 if(data.list[j].join_n.role.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_role_nor"),data.list[j].join_n.role);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.user_name){
                 if(data.list[j].join_n.user_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_name_nor"),data.list[j].join_n.user_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.vehicle){
                 if(data.list[j].join_n.vehicle.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.vehicle_nor"),data.list[j].join_n.vehicle);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.action){
                 if(data.list[j].join_n.action.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.action_nor"),data.list[j].join_n.action);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.level){
                 if(data.list[j].join_n.level.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_level_nor"),data.list[j].join_n.level);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.rank){
                 if(data.list[j].join_n.rank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_rank_nor"),data.list[j].join_n.rank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.rorank){
                 if(data.list[j].join_n.rorank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_rorank_nor"),data.list[j].join_n.rorank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.ralord){
                 if(data.list[j].join_n.ralord.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_ralord_nor"),data.list[j].join_n.ralord);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.vip){
                 if(data.list[j].join_n.vip.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.user_vip_nor"),data.list[j].join_n.vip);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_n.time){
                 if(data.list[j].join_n.time.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_n_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_n_row .join_n>.join_time_nor"),data.list[j].join_n.time);
                         })
                     })(j)
                 }
             }
         }
         // 4.2超管进入房间
         if(data.list[j].join_super){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_super_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .join_super_row span"),data.list[j].join_super);
                 })
             })(j)
             if(data.list[j].join_super.role){
                 if(data.list[j].join_super.role.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_super_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_super_row .join_super>.user_role_super"),data.list[j].join_super.role);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_super.user_name){
                 if(data.list[j].join_super.user_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_super_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_super_row .join_super>.user_name_super"),data.list[j].join_super.user_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].join_super.time){
                 if(data.list[j].join_super.time.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".join_super_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .join_super_row .join_super>.join_time_super"),data.list[j].join_super.time);
                         })
                     })(j)
                 }
             }
         }
         //5.关注样式设置
         if(data.list[j].follow){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .follow_row span"),data.list[j].follow);
                 })
             })(j)
             if(data.list[j].follow.role){
                 if(data.list[j].follow.role.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_role"),data.list[j].follow.role);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.user_name){
                 if(data.list[j].follow.user_name.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_name"),data.list[j].follow.user_name);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.level){
                 if(data.list[j].follow.level.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_level"),data.list[j].follow.level);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.rank){
                 if(data.list[j].follow.rank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_rank"),data.list[j].follow.rank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.rorank){
                 if(data.list[j].follow.rorank.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_rorank"),data.list[j].follow.rorank);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.ralord){
                 if(data.list[j].follow.ralord.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_ralord"),data.list[j].follow.ralord);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.vip){
                 if(data.list[j].follow.vip.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.user_vip"),data.list[j].follow.vip);
                         })
                     })(j)
                 }
             }
             if(data.list[j].follow.time){
                 if(data.list[j].follow.time.show){
                     (function (j) {
                         $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".follow_row",function () {
                             setCss($(".list_bg"+data.list[j].guid+" .follow_row .follow>.follow_time"),data.list[j].follow.time);
                         })
                     })(j)
                 }
             }
         }
         //6.通知样式设置
         if(data.list[j].notice){
             (function (j) {
                 $(".list_bg"+data.list[j].guid+">.list_data").on("DOMNodeInserted",".notice_row",function () {
                     setCss($(".list_bg"+data.list[j].guid+" .notice_row .notice>span"),data.list[j].notice);
                 })
             })(j)
         }
     }
 }
//判断加载哪个js的websocket请求
    function websocketJudge() {
        if ("WebSocket" in window) {
            // 打开一个 web socket
            var ws = new WebSocket("ws://localhost:55555/");
            ws.onopen = function () {
                // Web Socket 已连接上，使用 send() 方法发送数据
                // ws.send("发送数据");
                console.log('这里发送数据');
            };
            ws.onmessage = function (evt) {
                if (evt.data) {
                    var received_msg = evt.data;
                    var data = JSON.parse(received_msg);
                    // postMessage(data);//把接收到的data数据通过postMessage（）发给webworker，在webworker里面可以使用onmessage（）获取到数据
                    if(data.type==="init"){
//                        if(data.list[i].guid==="ba392df3"){
                            //url 为变量
                            loadScript('./list/list.js',function () {
//                                拼出变化的函数名
                                xxx_styleInit(data);
                            })
//                        }
                    }
                    if(data.type==="update"){
                        if($("div[class*='list_bg']")){
                            xxx_styleUpdate(data);
                        }
                    }

                }
            };
            ws.onclose = function () {
                // 关闭 websocket
            };
        }else{
            // 浏览器不支持 WebSocket
            console.log("您的浏览器不支持 WebSocket!");
        }
    }
    websocketJudge();
</script>
</body>
>>>>>>> ‘第二次修改’
</html>